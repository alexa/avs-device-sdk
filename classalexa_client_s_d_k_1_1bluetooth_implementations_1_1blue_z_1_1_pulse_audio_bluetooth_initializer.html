<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AlexaClientSDK: alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="avs-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AlexaClientSDK
   &#160;<span id="projectnumber">1.14.0</span>
   </div>
   <div id="projectbrief">A cross-platform, modular SDK for interacting with the Alexa Voice Service</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacealexa_client_s_d_k.html">alexaClientSDK</a></li><li class="navelem"><a class="el" href="namespacealexa_client_s_d_k_1_1bluetooth_implementations.html">bluetoothImplementations</a></li><li class="navelem"><a class="el" href="namespacealexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z.html">blueZ</a></li><li class="navelem"><a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html">PulseAudioBluetoothInitializer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_pulse_audio_bluetooth_initializer_8h_source.html">PulseAudioBluetoothInitializer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer:</div>
<div class="dyncontent">
<div class="center"><img src="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer__inherit__graph.png" border="0" usemap="#alexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer_inherit__map" alt="Inheritance graph"/></div>
<map name="alexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer_inherit__map" id="alexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer_inherit__map">
<area shape="rect" id="node2" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface.html" title="alexaClientSDK::avsCommon\l::utils::bluetooth::BluetoothEvent\lListenerInterface" alt="" coords="8,5,221,57"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer:</div>
<div class="dyncontent">
<div class="center"><img src="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer__coll__graph.png" border="0" usemap="#alexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer_coll__map" alt="Collaboration graph"/></div>
<map name="alexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer_coll__map" id="alexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer_coll__map">
<area shape="rect" id="node2" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface.html" title="alexaClientSDK::avsCommon\l::utils::bluetooth::BluetoothEvent\lListenerInterface" alt="" coords="8,5,221,57"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6bf5c3e429844b28153319aa293155e6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a6bf5c3e429844b28153319aa293155e6">ModuleState</a> { <a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a6bf5c3e429844b28153319aa293155e6a696b031073e74bf2cb98e5ef201d4aa3">ModuleState::UNKNOWN</a>, 
<a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a6bf5c3e429844b28153319aa293155e6a949fe1d1eef9064ffd3f1577aa5b928d">ModuleState::INITIALLY_LOADED</a>, 
<a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a6bf5c3e429844b28153319aa293155e6a795b8a51556d0b2cf4fbc11a896f6269">ModuleState::UNLOADED</a>, 
<a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a6bf5c3e429844b28153319aa293155e6ab565c9a9edf15e02a4a7583eeb5d7ab3">ModuleState::LOADED_BY_SDK</a>
 }</td></tr>
<tr class="memdesc:a6bf5c3e429844b28153319aa293155e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The state of each module.  <a href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a6bf5c3e429844b28153319aa293155e6">More...</a><br /></td></tr>
<tr class="separator:a6bf5c3e429844b28153319aa293155e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac851b87b3ff98fe5342801021141f1d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#ac851b87b3ff98fe5342801021141f1d3">~PulseAudioBluetoothInitializer</a> ()</td></tr>
<tr class="separator:ac851b87b3ff98fe5342801021141f1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface.html">alexaClientSDK::avsCommon::utils::bluetooth::BluetoothEventListenerInterface</a></td></tr>
<tr class="memitem:a7deb987245dcfe12f75a686017e7fe80 inherit pub_methods_classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface.html#a7deb987245dcfe12f75a686017e7fe80">~BluetoothEventListenerInterface</a> ()=default</td></tr>
<tr class="separator:a7deb987245dcfe12f75a686017e7fe80 inherit pub_methods_classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5f6f39a26f580c2d35d3d66fa9187e8e"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html">PulseAudioBluetoothInitializer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a5f6f39a26f580c2d35d3d66fa9187e8e">create</a> (std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_bus.html">avsCommon::utils::bluetooth::BluetoothEventBus</a> &gt; eventBus)</td></tr>
<tr class="separator:a5f6f39a26f580c2d35d3d66fa9187e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">BluetoothEventBusListenerInterface Functions</div></td></tr>
<tr class="memitem:a541fc5b6a1a0ac138829f860593737cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a541fc5b6a1a0ac138829f860593737cc">onEventFired</a> (const <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event.html">avsCommon::utils::bluetooth::BluetoothEvent</a> &amp;event) override</td></tr>
<tr class="separator:a541fc5b6a1a0ac138829f860593737cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Applications can receive/send A2DP audio data from/to BlueZ by registering local endpoints. BlueZ only supports sending audio to a single endpoint, and will choose the one that was registered first with the supported capabilities (essentially, a FIFO queue).</p>
<p>By default, when PulseAudio starts, it registers two local endpoints for itself: one for A2DP Source and another for A2DP Sink. These will be prioritized by BlueZ and will be sent audio stream data when it is available. By the time the SDK creates its endpoints, they will be of a lower priority.</p>
<p>For A2DP Sink, the SDK needs to obtain the audio stream and control playback. This is so the SDK can correctly manage audio focus. For A2DP Source, we continue to let PulseAudio handle the audio routing via their own endpoint.</p>
<p>This class unregisters both PulseAudio endpoints so that the SDK's endpoint has priority for Sink, and then immediately re-registers them so that PulseAudio can handle the Source case with its own endpoint.</p>
<p>This is behavior is optional and can be enabled at compile time with the appropriate CMake flag (refer to Bluetooth.cmake). </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a6bf5c3e429844b28153319aa293155e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf5c3e429844b28153319aa293155e6">&#9670;&nbsp;</a></span>ModuleState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html#a6bf5c3e429844b28153319aa293155e6">alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer::ModuleState</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The state of each module. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6bf5c3e429844b28153319aa293155e6a696b031073e74bf2cb98e5ef201d4aa3"></a>UNKNOWN&#160;</td><td class="fielddoc"><p>Before we have queried the state of the module. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6bf5c3e429844b28153319aa293155e6a949fe1d1eef9064ffd3f1577aa5b928d"></a>INITIALLY_LOADED&#160;</td><td class="fielddoc"><p>The module was initially loaded. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6bf5c3e429844b28153319aa293155e6a795b8a51556d0b2cf4fbc11a896f6269"></a>UNLOADED&#160;</td><td class="fielddoc"><p>The module is unloaded. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6bf5c3e429844b28153319aa293155e6ab565c9a9edf15e02a4a7583eeb5d7ab3"></a>LOADED_BY_SDK&#160;</td><td class="fielddoc"><p>The module has been loaded by the SDK. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac851b87b3ff98fe5342801021141f1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac851b87b3ff98fe5342801021141f1d3">&#9670;&nbsp;</a></span>~PulseAudioBluetoothInitializer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer::~PulseAudioBluetoothInitializer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5f6f39a26f580c2d35d3d66fa9187e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f6f39a26f580c2d35d3d66fa9187e8e">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1bluetooth_implementations_1_1blue_z_1_1_pulse_audio_bluetooth_initializer.html">PulseAudioBluetoothInitializer</a> &gt; alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer::create </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_bus.html">avsCommon::utils::bluetooth::BluetoothEventBus</a> &gt;&#160;</td>
          <td class="paramname"><em>eventBus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventBus</td><td>The eventBus which we will receive events upon BluetoothDeviceManager initialization.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An instance if successful, else a nullptr. </dd></dl>

</div>
</div>
<a id="a541fc5b6a1a0ac138829f860593737cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a541fc5b6a1a0ac138829f860593737cc">&#9670;&nbsp;</a></span>onEventFired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void alexaClientSDK::bluetoothImplementations::blueZ::PulseAudioBluetoothInitializer::onEventFired </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event.html">avsCommon::utils::bluetooth::BluetoothEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method called to process an event of the specific type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>Event to be processed </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1bluetooth_1_1_bluetooth_event_listener_interface.html#afc69b61989e8a24e9e8f45086c09d732">alexaClientSDK::avsCommon::utils::bluetooth::BluetoothEventListenerInterface</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/workplace/avs-device-sdk/BluetoothImplementations/BlueZ/include/BlueZ/<a class="el" href="_pulse_audio_bluetooth_initializer_8h_source.html">PulseAudioBluetoothInitializer.h</a></li>
<li>/workplace/avs-device-sdk/BluetoothImplementations/BlueZ/src/<a class="el" href="_pulse_audio_bluetooth_initializer_8cpp.html">PulseAudioBluetoothInitializer.cpp</a></li>
</ul>
</div><!-- contents -->
<html>
  <body>
    <p style="text-align:left;">
      AlexaClientSDK 1.14.0 - Copyright 2016-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
      <span style="float:right;">
	Licensed under the <a HREF=http://aws.amazon.com/apache2.0/>Apache License, Version 2.0</a>
      </span>
    </p>
  </body>
</html>
