<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AlexaClientSDK: Properties Implementation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="avs-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AlexaClientSDK
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">A cross-platform, modular SDK for interacting with the Alexa Voice Service</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Properties Implementation</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementations for <a class="el" href="group___lib__acsdk_properties_interfaces.html">Properties API</a>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacealexa_client_s_d_k_1_1properties"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacealexa_client_s_d_k_1_1properties.html">alexaClientSDK::properties</a></td></tr>
<tr class="memdesc:namespacealexa_client_s_d_k_1_1properties"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properties Implementation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html">alexaClientSDK::properties::ErrorCallbackInterface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback interface to handle errors.  <a href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_misc_storage_uri_mapper_interface.html">alexaClientSDK::properties::MiscStorageUriMapperInterface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_interface.html">Interface</a> to map properties config URI into component name and table name.  <a href="classalexa_client_s_d_k_1_1properties_1_1_misc_storage_uri_mapper_interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_simple_misc_storage_uri_mapper.html">alexaClientSDK::properties::SimpleMiscStorageUriMapper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic URI mapper for MiscStorageInterface adapter.  <a href="classalexa_client_s_d_k_1_1properties_1_1_simple_misc_storage_uri_mapper.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga1b4fca28451ebc143bfeac99cbab528d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___lib__acsdk_properties.html#ga1b4fca28451ebc143bfeac99cbab528d">alexaClientSDK::properties::StatusCode</a> { <br />
&#160;&#160;<a class="el" href="group___lib__acsdk_properties.html#gga1b4fca28451ebc143bfeac99cbab528dad0749aaba8b833466dfcbb0428e4f89c">alexaClientSDK::properties::StatusCode::SUCCESS</a> = 1, 
<a class="el" href="group___lib__acsdk_properties.html#gga1b4fca28451ebc143bfeac99cbab528da9a10f345b0f755d461a8673a5e9ef6b4">alexaClientSDK::properties::StatusCode::UNKNOWN_ERROR</a> = 2, 
<a class="el" href="group___lib__acsdk_properties.html#gga1b4fca28451ebc143bfeac99cbab528da7c266d9dafed9369a7798eca4b3c1a01">alexaClientSDK::properties::StatusCode::HSM_ERROR</a> = 3, 
<a class="el" href="group___lib__acsdk_properties.html#gga1b4fca28451ebc143bfeac99cbab528dad8e13f08667a0b31e93bd54a7302e91d">alexaClientSDK::properties::StatusCode::CRYPTO_ERROR</a> = 4, 
<br />
&#160;&#160;<a class="el" href="group___lib__acsdk_properties.html#gga1b4fca28451ebc143bfeac99cbab528da1b87432856c915936e1eb3fc8d4f11c1">alexaClientSDK::properties::StatusCode::DIGEST_ERROR</a> = 5, 
<a class="el" href="group___lib__acsdk_properties.html#gga1b4fca28451ebc143bfeac99cbab528daa7d48eee7b620a1aaac2b948c4f1b27c">alexaClientSDK::properties::StatusCode::INNER_PROPERTIES_ERROR</a> = 6
<br />
 }<tr class="memdesc:ga1b4fca28451ebc143bfeac99cbab528d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible error causes.  <a href="group___lib__acsdk_properties.html#ga1b4fca28451ebc143bfeac99cbab528d">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga1b4fca28451ebc143bfeac99cbab528d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80e57fffe29d4cd9899569db6cfa4e24"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___lib__acsdk_properties.html#ga80e57fffe29d4cd9899569db6cfa4e24">alexaClientSDK::properties::Action</a> { <a class="el" href="group___lib__acsdk_properties.html#gga80e57fffe29d4cd9899569db6cfa4e24a2f453cfe638e57e27bb0c9512436111e">alexaClientSDK::properties::Action::CONTINUE</a> = 1, 
<a class="el" href="group___lib__acsdk_properties.html#gga80e57fffe29d4cd9899569db6cfa4e24ac2759effffc94bb9acc71d69fe3e8a1f">alexaClientSDK::properties::Action::FAIL</a> = 2, 
<a class="el" href="group___lib__acsdk_properties.html#gga80e57fffe29d4cd9899569db6cfa4e24ae5389e806d0d7576b703e606a4af9711">alexaClientSDK::properties::Action::CLEAR_DATA</a> = 3, 
<a class="el" href="group___lib__acsdk_properties.html#gga80e57fffe29d4cd9899569db6cfa4e24ac0cc02c3b3d55abb7bfb49ddbb4866c8">alexaClientSDK::properties::Action::RETRY</a> = 4
 }<tr class="memdesc:ga80e57fffe29d4cd9899569db6cfa4e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error action.  <a href="group___lib__acsdk_properties.html#ga80e57fffe29d4cd9899569db6cfa4e24">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga80e57fffe29d4cd9899569db6cfa4e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga197282f746d0515b37f7417687cb4956"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_interfaces_1_1_properties_factory_interface.html">PropertiesFactoryInterface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___lib__acsdk_properties.html#ga197282f746d0515b37f7417687cb4956">alexaClientSDK::properties::createEncryptedPropertiesFactory</a> (const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1sdk_interfaces_1_1storage_1_1_misc_storage_interface.html">MiscStorageInterface</a> &gt; &amp;innerStorage, const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_misc_storage_uri_mapper_interface.html">MiscStorageUriMapperInterface</a> &gt; &amp;uriMapper, const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_crypto_factory_interface.html">CryptoFactoryInterface</a> &gt; &amp;cryptoFactory, const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_key_store_interface.html">KeyStoreInterface</a> &gt; &amp;keyStore) noexcept</td></tr>
<tr class="memdesc:ga197282f746d0515b37f7417687cb4956"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates properties factory with encryption support by wrapping a <code>MiscStorageInterface</code>.  <a href="group___lib__acsdk_properties.html#ga197282f746d0515b37f7417687cb4956">More...</a><br /></td></tr>
<tr class="separator:ga197282f746d0515b37f7417687cb4956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bbe72688db7a84ba9f40892515bf3c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___lib__acsdk_properties.html#ga2bbe72688db7a84ba9f40892515bf3c0">alexaClientSDK::properties::setErrorCallback</a> (const std::weak_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html">ErrorCallbackInterface</a> &gt; &amp;callback, uint32_t maxRetries=<a class="el" href="namespacealexa_client_s_d_k_1_1properties.html#a7138496d02c33005ead97960c5dd612a">DEFAULT_MAX_RETRIES</a>, std::weak_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html">ErrorCallbackInterface</a> &gt; *previous=nullptr) noexcept</td></tr>
<tr class="memdesc:ga2bbe72688db7a84ba9f40892515bf3c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an error callback.  <a href="group___lib__acsdk_properties.html#ga2bbe72688db7a84ba9f40892515bf3c0">More...</a><br /></td></tr>
<tr class="separator:ga2bbe72688db7a84ba9f40892515bf3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga701cd2050b065868d0d3583c446831ee"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_interfaces_1_1_properties_factory_interface.html">PropertiesFactoryInterface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___lib__acsdk_properties.html#ga701cd2050b065868d0d3583c446831ee">alexaClientSDK::properties::createPropertiesFactory</a> (const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1sdk_interfaces_1_1storage_1_1_misc_storage_interface.html">MiscStorageInterface</a> &gt; &amp;innerStorage, const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_misc_storage_uri_mapper_interface.html">MiscStorageUriMapperInterface</a> &gt; &amp;nameMapper=<a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_simple_misc_storage_uri_mapper.html#a5909adeb1633ce199c357f419aba4b5a">SimpleMiscStorageUriMapper::create</a>()) noexcept</td></tr>
<tr class="memdesc:ga701cd2050b065868d0d3583c446831ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates <code>PropertiesFactoryInterface</code> from <code>MiscStorageInterface</code>.  <a href="group___lib__acsdk_properties.html#ga701cd2050b065868d0d3583c446831ee">More...</a><br /></td></tr>
<tr class="separator:ga701cd2050b065868d0d3583c446831ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Implementations for <a class="el" href="group___lib__acsdk_properties_interfaces.html">Properties API</a>. </p>
<p>Lib_acsdkProperties enables users to use Lib_acsdkPropertiesInterfaces instead of lower level MiscStorageInterface and SQLiteDatabase. In addition, this module offers data at rest protection using hardware security module.</p>
<p>To use unencrypted adapter for alexaClientSDK::properties::MiscStorageInterface: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;acsdk/Properties/PropertiesFactories.h&gt;</span></div><div class="line"></div><div class="line">std::shared_ptr&lt;MiscStorageInterface&gt; miscStorage = ...;</div><div class="line"><span class="keyword">auto</span> factory = <a class="code" href="group___lib__acsdk_properties.html#ga701cd2050b065868d0d3583c446831ee">createPropertiesFactory</a>(miscStorage);</div><div class="line"><span class="keyword">auto</span> properties = propertiesFactory-&gt;getProperties(<span class="stringliteral">&quot;componentName&quot;</span>, <span class="stringliteral">&quot;configNamespace&quot;</span>);</div><div class="line">properties-&gt;putString(<span class="stringliteral">&quot;propertyName&quot;</span>, <span class="stringliteral">&quot;stringValue&quot;</span>);</div></div><!-- fragment --><p>The following example demonstrates how to use encrypted properties: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_encrypted_properties_factories_8h.html">acsdk/Properties/EncryptedPropertiesFactories.h</a>&gt;</span></div><div class="line"></div><div class="line">std::shared_ptr&lt;MiscStorageInterface&gt; miscStorage = ...;</div><div class="line">std::shared_ptr&lt;CryptoFactoryInterface&gt; cryptoFactory = ...;</div><div class="line">std::shared_ptr&lt;KeyStoreInterface&gt; keyStore = ...;</div><div class="line"></div><div class="line"><span class="keyword">auto</span> factory = <a class="code" href="namespacealexa_client_s_d_k_1_1properties.html#ac34025f26b5b0deb177d35cccb1d1b3a">createEncryptedPropertiesFactory</a>(cryptoFactory, keyStore, miscStorage);</div><div class="line"><span class="keyword">auto</span> properties = propertiesFactory-&gt;getProperties(<span class="stringliteral">&quot;componentName&quot;</span>, <span class="stringliteral">&quot;configNamespace&quot;</span>);</div><div class="line">properties-&gt;putString(<span class="stringliteral">&quot;propertyName&quot;</span>, <span class="stringliteral">&quot;stringValue&quot;</span>);</div></div><!-- fragment --><p>Encryption at rest requires that CryptoAPI support is available and the platform has correctly configured hardware security module.</p>
<dl class="section see"><dt>See also</dt><dd>CryptoIMPL how to obtain <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_crypto_factory_interface.html">alexaClientSDK::cryptoInterfaces::CryptoFactoryInterface</a>. </dd>
<dd>
PKCS11IMPL how to obtain <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_key_store_interface.html">alexaClientSDK::cryptoInterfaces::KeyStoreInterface</a> and configure HSM.</dd>
<dd>
<a class="el" href="namespacealexa_client_s_d_k_1_1properties.html" title="Properties Implementation. ">alexaClientSDK::properties</a> </dd>
<dd>
<a class="el" href="namespacealexa_client_s_d_k_1_1properties_1_1test.html" title="Test cases for Properties Implementation. ">alexaClientSDK::properties::test</a> </dd></dl>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga80e57fffe29d4cd9899569db6cfa4e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80e57fffe29d4cd9899569db6cfa4e24">&#9670;&nbsp;</a></span>Action</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___lib__acsdk_properties.html#ga80e57fffe29d4cd9899569db6cfa4e24">alexaClientSDK::properties::Action</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Error action. </p>
<p>This enumeration defines possible actions when properties framework encounters an error.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html" title="Callback interface to handle errors. ">ErrorCallbackInterface</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga80e57fffe29d4cd9899569db6cfa4e24a2f453cfe638e57e27bb0c9512436111e"></a>CONTINUE&#160;</td><td class="fielddoc"><p>Continue with default behaviour. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga80e57fffe29d4cd9899569db6cfa4e24ac2759effffc94bb9acc71d69fe3e8a1f"></a>FAIL&#160;</td><td class="fielddoc"><p>Fail operation. Do not delete data. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga80e57fffe29d4cd9899569db6cfa4e24ae5389e806d0d7576b703e606a4af9711"></a>CLEAR_DATA&#160;</td><td class="fielddoc"><p>Continue operation, delete data. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga80e57fffe29d4cd9899569db6cfa4e24ac0cc02c3b3d55abb7bfb49ddbb4866c8"></a>RETRY&#160;</td><td class="fielddoc"><p>Retry operation. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga1b4fca28451ebc143bfeac99cbab528d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b4fca28451ebc143bfeac99cbab528d">&#9670;&nbsp;</a></span>StatusCode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___lib__acsdk_properties.html#ga1b4fca28451ebc143bfeac99cbab528d">alexaClientSDK::properties::StatusCode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Possible error causes. </p>
<p>This enumeration defines supported error reasons for properties open operation.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html" title="Callback interface to handle errors. ">ErrorCallbackInterface</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1b4fca28451ebc143bfeac99cbab528dad0749aaba8b833466dfcbb0428e4f89c"></a>SUCCESS&#160;</td><td class="fielddoc"><p>Status code indicating no error. For internal use only. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1b4fca28451ebc143bfeac99cbab528da9a10f345b0f755d461a8673a5e9ef6b4"></a>UNKNOWN_ERROR&#160;</td><td class="fielddoc"><p>Any error, that doesn't fit into other categories. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1b4fca28451ebc143bfeac99cbab528da7c266d9dafed9369a7798eca4b3c1a01"></a>HSM_ERROR&#160;</td><td class="fielddoc"><p>HSM API Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1b4fca28451ebc143bfeac99cbab528dad8e13f08667a0b31e93bd54a7302e91d"></a>CRYPTO_ERROR&#160;</td><td class="fielddoc"><p>Crypto API Error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1b4fca28451ebc143bfeac99cbab528da1b87432856c915936e1eb3fc8d4f11c1"></a>DIGEST_ERROR&#160;</td><td class="fielddoc"><p>Data corruption error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1b4fca28451ebc143bfeac99cbab528daa7d48eee7b620a1aaac2b948c4f1b27c"></a>INNER_PROPERTIES_ERROR&#160;</td><td class="fielddoc"><p>Underlying properties error. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga197282f746d0515b37f7417687cb4956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga197282f746d0515b37f7417687cb4956">&#9670;&nbsp;</a></span>createEncryptedPropertiesFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classalexa_client_s_d_k_1_1properties_interfaces_1_1_properties_factory_interface.html">PropertiesFactoryInterface</a>&gt; alexaClientSDK::properties::createEncryptedPropertiesFactory </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1sdk_interfaces_1_1storage_1_1_misc_storage_interface.html">MiscStorageInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>innerStorage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_misc_storage_uri_mapper_interface.html">MiscStorageUriMapperInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>uriMapper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_crypto_factory_interface.html">CryptoFactoryInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cryptoFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_key_store_interface.html">KeyStoreInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>keyStore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates properties factory with encryption support by wrapping a <code>MiscStorageInterface</code>. </p>
<p>Encrypted properties factory protects all values using AES-256 cipher. The data key is stored as one of the underlying properties with reserved name "$acsdkEncryption$" in encrypted form. Hardware security module is used for storing the main encryption key and wrapping/unwrapping data keys.</p>
<p>When client code accesses <code>PropertiesInterface</code> through encrypted <code>PropertiesFactoryInterface</code>, all existing data is automatically converted into encrypted form.</p>
<p>The method automatically creates database if it is not created. When user creates <code>PropertiesInterface</code>, the implementation automatically creates corresponding table.</p>
<p>As all encrypted property values are in binary form, the implementation uses base64 encoding to store values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">innerStorage</td><td>Storage reference. This parameter must not be nullptr. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uriMapper</td><td>URI mapper reference. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cryptoFactory</td><td>Crypto factory reference. This parameter must not be nullptr. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyStore</td><td>Key store factory reference. This parameter must not be nullptr.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Properties factory reference or nullptr on error. </dd></dl>

</div>
</div>
<a id="ga701cd2050b065868d0d3583c446831ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga701cd2050b065868d0d3583c446831ee">&#9670;&nbsp;</a></span>createPropertiesFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classalexa_client_s_d_k_1_1properties_interfaces_1_1_properties_factory_interface.html">PropertiesFactoryInterface</a>&gt; alexaClientSDK::properties::createPropertiesFactory </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1sdk_interfaces_1_1storage_1_1_misc_storage_interface.html">MiscStorageInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>innerStorage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_misc_storage_uri_mapper_interface.html">MiscStorageUriMapperInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>nameMapper</em> = <code><a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_simple_misc_storage_uri_mapper.html#a5909adeb1633ce199c357f419aba4b5a">SimpleMiscStorageUriMapper::create</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates <code>PropertiesFactoryInterface</code> from <code>MiscStorageInterface</code>. </p>
<p>The method automatically creates database if it is not created. When user creates <code>PropertiesInterface</code>, the implementation automatically creates corresponding table.</p>
<p>Because underlying interface supports only string properties, the implementation uses base64 encoding to store all binary properties. This may cause side effects, as when content is decoded using base64, the result may contain additional padding 0 bytes, and client code must work correctly in this case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">innerStorage</td><td>Storage reference. This parameter must not be nullptr. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nameMapper</td><td>Name mapper interface. This interface will be used to map configuration URI into table name and component name values when accessing MiscStorageInterface API.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Factory reference or nullptr on error. </dd></dl>

</div>
</div>
<a id="ga2bbe72688db7a84ba9f40892515bf3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bbe72688db7a84ba9f40892515bf3c0">&#9670;&nbsp;</a></span>setErrorCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::properties::setErrorCallback </td>
          <td>(</td>
          <td class="paramtype">const std::weak_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html">ErrorCallbackInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxRetries</em> = <code><a class="el" href="namespacealexa_client_s_d_k_1_1properties.html#a7138496d02c33005ead97960c5dd612a">DEFAULT_MAX_RETRIES</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::weak_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_1_1_error_callback_interface.html">ErrorCallbackInterface</a> &gt; *&#160;</td>
          <td class="paramname"><em>previous</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets an error callback. </p>
<p>This method can both set a new callback or clear existing one if <em>callback</em> is nullptr. Changing callback affects error handling of Property API methods that are called after the callback is changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>New callback reference or nullptr to remove callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxRetries</td><td>Maximum number of retries to use with this callback. If implementation encounters more errors, than number of <em>maxRetries</em> plus one, the operation fails. If <a class="el" href="namespacealexa_client_s_d_k_1_1properties.html#ac8faac8542c5711f0a7612604ae7d32f">UNLIMITED_RETRIES</a> value is specified, the implementation executes unlimited number of retries until operation succeeds or <em>callback</em> indicates that operation must stop. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">previous</td><td>Optional pointer to store previous callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean indicating operation success. On failure, contents of *previous is undefined and false is returned. </dd></dl>

</div>
</div>
</div><!-- contents -->
<html>
  <body>
    <p style="text-align:left;">
      AlexaClientSDK 3.0.0 - Copyright 2016-2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.
      <span style="float:right;">
	Licensed under the <a HREF=http://aws.amazon.com/apache2.0/>Apache License, Version 2.0</a>
      </span>
    </p>
  </body>
</html>
