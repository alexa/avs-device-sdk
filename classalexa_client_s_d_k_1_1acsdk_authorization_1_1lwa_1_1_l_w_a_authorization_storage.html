<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AlexaClientSDK: alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="avs-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AlexaClientSDK
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">A cross-platform, modular SDK for interacting with the Alexa Voice Service</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacealexa_client_s_d_k.html">alexaClientSDK</a></li><li class="navelem"><a class="el" href="namespacealexa_client_s_d_k_1_1acsdk_authorization.html">acsdkAuthorization</a></li><li class="navelem"><a class="el" href="namespacealexa_client_s_d_k_1_1acsdk_authorization_1_1lwa.html">lwa</a></li><li class="navelem"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html">LWAAuthorizationStorage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A SQLite based version of <code>LWAAuthorizationStorageInterface</code>.  
 <a href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_l_w_a_authorization_storage_8h_source.html">LWAAuthorizationStorage.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage__inherit__graph.png" border="0" usemap="#alexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage_inherit__map" alt="Inheritance graph"/></div>
<map name="alexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage_inherit__map" id="alexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage_inherit__map">
<area shape="rect" id="node2" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html" title="alexaClientSDK::acsdkAuthorization\lInterfaces::lwa::LWAAuthorizationStorage\lInterface" alt="" coords="5,5,272,61"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage:</div>
<div class="dyncontent">
<div class="center"><img src="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage__coll__graph.png" border="0" usemap="#alexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage_coll__map" alt="Collaboration graph"/></div>
<map name="alexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage_coll__map" id="alexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage_coll__map">
<area shape="rect" id="node2" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html" title="alexaClientSDK::acsdkAuthorization\lInterfaces::lwa::LWAAuthorizationStorage\lInterface" alt="" coords="5,5,272,61"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad1f4e4c51558bc3e96fead87fe1fba16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#ad1f4e4c51558bc3e96fead87fe1fba16">~LWAAuthorizationStorage</a> ()</td></tr>
<tr class="separator:ad1f4e4c51558bc3e96fead87fe1fba16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">LWAAuthorizationStorageInterface method overrides.</div></td></tr>
<tr class="memitem:ad98c96bb4b2a6839351076e93dd12adf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#ad98c96bb4b2a6839351076e93dd12adf">createDatabase</a> () override</td></tr>
<tr class="separator:ad98c96bb4b2a6839351076e93dd12adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed1d4b1bd3f783992e44a236d86ad13"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#afed1d4b1bd3f783992e44a236d86ad13">open</a> () override</td></tr>
<tr class="separator:afed1d4b1bd3f783992e44a236d86ad13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0112a5eb4aae0413ee93aeb85d88ea0b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a0112a5eb4aae0413ee93aeb85d88ea0b">openOrCreate</a> () override</td></tr>
<tr class="separator:a0112a5eb4aae0413ee93aeb85d88ea0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7005de4c4a866547b4f75f79f00add"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#afa7005de4c4a866547b4f75f79f00add">setRefreshToken</a> (const std::string &amp;refreshToken) override</td></tr>
<tr class="separator:afa7005de4c4a866547b4f75f79f00add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82513b33e6931f22c054791d42333402"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a82513b33e6931f22c054791d42333402">clearRefreshToken</a> () override</td></tr>
<tr class="separator:a82513b33e6931f22c054791d42333402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f43f0c0348847c670a4f71e803b141e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a4f43f0c0348847c670a4f71e803b141e">getRefreshToken</a> (std::string *refreshToken) override</td></tr>
<tr class="separator:a4f43f0c0348847c670a4f71e803b141e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73639a210ebf7609fce351aa61a2cb10"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a73639a210ebf7609fce351aa61a2cb10">setUserId</a> (const std::string &amp;userId) override</td></tr>
<tr class="separator:a73639a210ebf7609fce351aa61a2cb10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2ea18ca471f9a4dd621c151642d992"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a0c2ea18ca471f9a4dd621c151642d992">getUserId</a> (std::string *userId) override</td></tr>
<tr class="separator:a0c2ea18ca471f9a4dd621c151642d992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa862461ed9d81e95eb8eabc771efbbe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#aaa862461ed9d81e95eb8eabc771efbbe">clear</a> () override</td></tr>
<tr class="separator:aaa862461ed9d81e95eb8eabc771efbbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a></td></tr>
<tr class="memitem:a162726302fcc1393eb6630c62da9d191 inherit pub_methods_classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a162726302fcc1393eb6630c62da9d191">~LWAAuthorizationStorageInterface</a> ()=default</td></tr>
<tr class="separator:a162726302fcc1393eb6630c62da9d191 inherit pub_methods_classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a41b2e91aaee2fdbef7c9261b987cebb2"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; LWAAuthorizationStorageInterface &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a41b2e91aaee2fdbef7c9261b987cebb2">createStorage</a> (const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_interfaces_1_1_properties_factory_interface.html">propertiesInterfaces::PropertiesFactoryInterface</a> &gt; &amp;propertiesFactory)</td></tr>
<tr class="memdesc:a41b2e91aaee2fdbef7c9261b987cebb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create storage interface.  <a href="#a41b2e91aaee2fdbef7c9261b987cebb2">More...</a><br /></td></tr>
<tr class="separator:a41b2e91aaee2fdbef7c9261b987cebb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5f58c94c5fa90c326311f34105425ca"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html">acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#ab5f58c94c5fa90c326311f34105425ca">createLWAAuthorizationStorageInterface</a> (const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1configuration_1_1_configuration_node.html">avsCommon::utils::configuration::ConfigurationNode</a> &gt; &amp;configurationRoot, const std::string &amp;storageRootKey, const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_crypto_factory_interface.html">cryptoInterfaces::CryptoFactoryInterface</a> &gt; &amp;cryptoFactory, const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_key_store_interface.html">cryptoInterfaces::KeyStoreInterface</a> &gt; &amp;keyStore)</td></tr>
<tr class="memdesc:ab5f58c94c5fa90c326311f34105425ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create storage interface backed by SQLite.  <a href="#ab5f58c94c5fa90c326311f34105425ca">More...</a><br /></td></tr>
<tr class="separator:ab5f58c94c5fa90c326311f34105425ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A SQLite based version of <code>LWAAuthorizationStorageInterface</code>. </p>
<p>Storage implementation based on Properties API.</p>
<p>This implementation class adapts properties interface to domain-specific authorization storage interface. Depending on</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___lib__acsdk_properties_interfaces.html" title="Interfaces for accessing persistent configuration. ">Properties API</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad1f4e4c51558bc3e96fead87fe1fba16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f4e4c51558bc3e96fead87fe1fba16">&#9670;&nbsp;</a></span>~LWAAuthorizationStorage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::~LWAAuthorizationStorage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaa862461ed9d81e95eb8eabc771efbbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa862461ed9d81e95eb8eabc771efbbe">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A utility function to clear all records from storage. Note that the storage will still exist, it will just have not content.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether the database was successfully cleared. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a439101c9286f04495d484c1d5dc1a42d">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="a82513b33e6931f22c054791d42333402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82513b33e6931f22c054791d42333402">&#9670;&nbsp;</a></span>clearRefreshToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::clearRefreshToken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clear the stored refresh token value.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether the refresh token was successfully cleared. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#aa85a7c3a1cb4b7f21b4196bfaba830c2">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="ad98c96bb4b2a6839351076e93dd12adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98c96bb4b2a6839351076e93dd12adf">&#9670;&nbsp;</a></span>createDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::createDatabase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000068">Deprecated:</a></b></dt><dd>The recommendation is to use use <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a0112a5eb4aae0413ee93aeb85d88ea0b">openOrCreate()</a>.</dd></dl>
<p>Creates a new database with the given filepath. If the file specified already exists, or if a database is already being handled by this object, then this function returns false.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> If the database is created ok, or <code>false</code> if either the file exists or a database is already being handled by this object. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a9bea96dcbc752673b4ed96693e9a138f">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="ab5f58c94c5fa90c326311f34105425ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5f58c94c5fa90c326311f34105425ca">&#9670;&nbsp;</a></span>createLWAAuthorizationStorageInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;<a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html">acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>&gt; alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::createLWAAuthorizationStorageInterface </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1avs_common_1_1utils_1_1configuration_1_1_configuration_node.html">avsCommon::utils::configuration::ConfigurationNode</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>configurationRoot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>storageRootKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_crypto_factory_interface.html">cryptoInterfaces::CryptoFactoryInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cryptoFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1crypto_interfaces_1_1_key_store_interface.html">cryptoInterfaces::KeyStoreInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>keyStore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create storage interface backed by SQLite. </p>
<p>Factory method for creating a storage object for creating a storage interface based on an SQLite database. If platform configuration has both cryptography and hardware security module support, all the stored values will be encrypted. If there is no cryptography module and/or HSM support, all values will be stored in unencrypted form.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">configurationRoot</td><td>The global config object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">storageRootKey</td><td>The key to use to find the parent node. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cryptoFactory</td><td>Crypto factory interface. This interface is required if HSM integration is enabled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyStore</td><td>Key store interface. This interface is required if HSM integration is enabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html" title="A SQLite based version of LWAAuthorizationStorageInterface. ">LWAAuthorizationStorage</a> object, nullptr if there's an error creating it.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>CryptoIMPL </dd>
<dd>
CryptoPKCS11 </dd></dl>

</div>
</div>
<a id="a41b2e91aaee2fdbef7c9261b987cebb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41b2e91aaee2fdbef7c9261b987cebb2">&#9670;&nbsp;</a></span>createStorage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;LWAAuthorizationStorageInterface&gt; alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::createStorage </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classalexa_client_s_d_k_1_1properties_interfaces_1_1_properties_factory_interface.html">propertiesInterfaces::PropertiesFactoryInterface</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>propertiesFactory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create storage interface. </p>
<p>Factory method for creating a storage interface using properties API. For certification it is important to use encrypted properties factory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">propertiesFactory</td><td>Properties factory interface.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html" title="A SQLite based version of LWAAuthorizationStorageInterface. ">LWAAuthorizationStorage</a> object, nullptr if there's an error creating it. </dd></dl>

</div>
</div>
<a id="a4f43f0c0348847c670a4f71e803b141e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f43f0c0348847c670a4f71e803b141e">&#9670;&nbsp;</a></span>getRefreshToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::getRefreshToken </td>
          <td>(</td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>refreshToken</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the stored refresh token value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">refreshToken</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the operation was successful. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a3244ffbedf20c6116635e94fa1637346">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="a0c2ea18ca471f9a4dd621c151642d992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c2ea18ca471f9a4dd621c151642d992">&#9670;&nbsp;</a></span>getUserId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::getUserId </td>
          <td>(</td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>userId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves the UserId associated with the account.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">userId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the operation was successful. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a9c85298b73d537312d9fdb389bad8585">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="afed1d4b1bd3f783992e44a236d86ad13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed1d4b1bd3f783992e44a236d86ad13">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000069">Deprecated:</a></b></dt><dd>The recommendation is to use use <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_1_1lwa_1_1_l_w_a_authorization_storage.html#a0112a5eb4aae0413ee93aeb85d88ea0b">openOrCreate()</a>.</dd></dl>
<p>Open a database with the given filepath. If this object is already managing an open database, or the file does not exist, or there is a problem opening the database, this function returns false.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> If the database is opened ok, <code>false</code> if either the file does not exist, if this object is already managing an open database, or if there is another internal reason the database could not be opened. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a3e1191c9276c5f937c9cda4769af5b23">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="a0112a5eb4aae0413ee93aeb85d88ea0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0112a5eb4aae0413ee93aeb85d88ea0b">&#9670;&nbsp;</a></span>openOrCreate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::openOrCreate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open the database with the given filepath or creates it if it does not exist.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> If the database is opened and usable. <code>false</code> if this object is already managing an open database, or if there is another internal reason the database is unusable. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#afced524a1b5fb7b9e4e801477d87d982">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="afa7005de4c4a866547b4f75f79f00add"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7005de4c4a866547b4f75f79f00add">&#9670;&nbsp;</a></span>setRefreshToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::setRefreshToken </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>refreshToken</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the stored refresh token value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">refreshToken</td><td>The refresh token to insert into the database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the refresh token was successfully stored. </dd></dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a22427b26e046123238983ca7819a6c86">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<a id="a73639a210ebf7609fce351aa61a2cb10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73639a210ebf7609fce351aa61a2cb10">&#9670;&nbsp;</a></span>setUserId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool alexaClientSDK::acsdkAuthorization::lwa::LWAAuthorizationStorage::setUserId </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>userId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stores the UserId associated with the account.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userId</td><td>The userId to store. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classalexa_client_s_d_k_1_1acsdk_authorization_interfaces_1_1lwa_1_1_l_w_a_authorization_storage_interface.html#a0a2269b4a4201e926cfcb2e569b89779">alexaClientSDK::acsdkAuthorizationInterfaces::lwa::LWAAuthorizationStorageInterface</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/workplace/avs-device-sdk/core/Authorization/acsdkAuthorization/include/acsdkAuthorization/LWA/<a class="el" href="_l_w_a_authorization_storage_8h_source.html">LWAAuthorizationStorage.h</a></li>
</ul>
</div><!-- contents -->
<html>
  <body>
    <p style="text-align:left;">
      AlexaClientSDK 3.0.0 - Copyright 2016-2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.
      <span style="float:right;">
	Licensed under the <a HREF=http://aws.amazon.com/apache2.0/>Apache License, Version 2.0</a>
      </span>
    </p>
  </body>
</html>
